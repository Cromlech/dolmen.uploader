# -*- coding: utf-8 -*-

from os import path
from js.jquery import jquery
from js.jqueryui import jqueryui
from fanstatic import Library, Resource, Group


# BlueImp Uploader
# http://blueimp.github.io/jQuery-File-Upload/

upload_library = Library(
    'upload_library', path.join('resources', 'jquery_file_multiupload'))

transport = Resource(
    upload_library, 'js/jquery.iframe-transport.js',
    depends=[jquery], bottom=True)

upload = Resource(
    upload_library, 'js/jquery.fileupload.js',
    depends=[transport], bottom=True)

upload_ui = Resource(
    upload_library, 'js/jquery.fileupload-ui.js',
    depends=[upload, jqueryui], bottom=True)

process = Resource(
    upload_library, 'js/jquery.fileupload-process.js',
    depends=[jquery], bottom=True)

upload_css = Resource(upload_library, 'css/jquery.fileupload-ui.css')

uploader = Group([upload_ui, upload_css, process])
